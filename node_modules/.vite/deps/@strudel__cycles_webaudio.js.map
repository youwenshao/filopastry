{
  "version": 3,
  "sources": ["../../nanostores/clean-stores/index.js", "../../nanostores/action/index.js", "../../nanostores/atom/index.js", "../../nanostores/map/index.js", "../../@strudel.cycles/webaudio/dist/index.mjs"],
  "sourcesContent": ["import { cleanTasks } from '../task/index.js'\n\nexport let clean = Symbol('clean')\n\nexport let cleanStores = (...stores) => {\n  if (process.env.NODE_ENV === 'production') {\n    throw new Error(\n      'cleanStores() can be used only during development or tests'\n    )\n  }\n  cleanTasks()\n  for (let store of stores) {\n    if (store) {\n      if (store.mocked) delete store.mocked\n      if (store[clean]) store[clean]()\n    }\n  }\n}\n", "import { startTask } from '../task/index.js'\n\nexport let lastAction = Symbol()\nexport let actionId = Symbol()\n\nlet uid = 0\n\nexport let doAction = (store, actionName, cb, args) => {\n  let id = ++uid\n  let tracker = { ...store }\n  tracker.set = (...setArgs) => {\n    store[lastAction] = actionName\n    store[actionId] = id\n    store.set(...setArgs)\n    delete store[lastAction]\n    delete store[actionId]\n  }\n  if (store.setKey) {\n    tracker.setKey = (...setArgs) => {\n      store[lastAction] = actionName\n      store[actionId] = id\n      store.setKey(...setArgs)\n      delete store[lastAction]\n      delete store[actionId]\n    }\n  }\n  let result = cb(tracker, ...args)\n  if (result instanceof Promise) {\n    let [err, end] =\n      typeof store.action !== 'undefined'\n        ? store.action(id, actionName, args)\n        : []\n    let endTask = startTask()\n    return result\n      .catch(error => {\n        err && err(error)\n        throw error\n      })\n      .finally(() => {\n        endTask()\n        end && end()\n      })\n  }\n  return result\n}\n\nexport let action =\n  (store, actionName, cb) =>\n  (...args) =>\n    doAction(store, actionName, cb, args)\n", "import { clean } from '../clean-stores/index.js'\n\nlet listenerQueue = []\n\nexport let notifyId = 0\n\nexport let atom = (initialValue, level) => {\n  let currentListeners\n  let nextListeners = []\n  let store = {\n    lc: 0,\n    l: level || 0,\n    value: initialValue,\n    set(data) {\n      store.value = data\n      store.notify()\n    },\n    get() {\n      if (!store.lc) {\n        store.listen(() => {})()\n      }\n      return store.value\n    },\n    notify(changedKey) {\n      currentListeners = nextListeners\n      let runListenerQueue = !listenerQueue.length\n      for (let i = 0; i < currentListeners.length; i += 2) {\n        listenerQueue.push(\n          currentListeners[i],\n          store.value,\n          changedKey,\n          currentListeners[i + 1]\n        )\n      }\n\n      if (runListenerQueue) {\n        notifyId++\n        for (let i = 0; i < listenerQueue.length; i += 4) {\n          let skip = false\n          for (let j = i + 7; j < listenerQueue.length; j += 4) {\n            if (listenerQueue[j] < listenerQueue[i + 3]) {\n              skip = true\n              break\n            }\n          }\n\n          if (skip) {\n            listenerQueue.push(\n              listenerQueue[i],\n              listenerQueue[i + 1],\n              listenerQueue[i + 2],\n              listenerQueue[i + 3]\n            )\n          } else {\n            listenerQueue[i](listenerQueue[i + 1], listenerQueue[i + 2])\n          }\n        }\n        listenerQueue.length = 0\n      }\n    },\n    listen(listener, listenerLevel) {\n      if (nextListeners === currentListeners) {\n        nextListeners = nextListeners.slice()\n      }\n\n      store.lc = nextListeners.push(listener, listenerLevel || store.l) / 2\n\n      return () => {\n        if (nextListeners === currentListeners) {\n          nextListeners = nextListeners.slice()\n        }\n        let index = nextListeners.indexOf(listener)\n        if (~index) {\n          nextListeners.splice(index, 2)\n          store.lc--\n          if (!store.lc) store.off()\n        }\n      }\n    },\n    subscribe(cb, listenerLevel) {\n      let unbind = store.listen(cb, listenerLevel)\n      cb(store.value)\n      return unbind\n    },\n    off() {} /* It will be called on last listener unsubscribing.\n                We will redefine it in onMount and onStop. */\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    store[clean] = () => {\n      nextListeners = []\n      store.lc = 0\n      store.off()\n    }\n  }\n\n  return store\n}\n", "import { atom } from '../atom/index.js'\n\nexport let map = (value = {}) => {\n  let store = atom(value)\n\n  store.setKey = function (key, newValue) {\n    if (typeof newValue === 'undefined') {\n      if (key in store.value) {\n        store.value = { ...store.value }\n        delete store.value[key]\n        store.notify(key)\n      }\n    } else if (store.value[key] !== newValue) {\n      store.value = {\n        ...store.value,\n        [key]: newValue\n      }\n      store.notify(key)\n    }\n  }\n\n  return store\n}\n", "import * as M from \"@strudel.cycles/core\";\nimport { logger as Y, valueToMidi as ge, noteToMidi as oe, midiToFreq as de } from \"@strudel.cycles/core\";\nimport { map as ue } from \"nanostores\";\nif (typeof DelayNode < \"u\") {\n  class e extends DelayNode {\n    constructor(t, o, i, c) {\n      super(t), o = Math.abs(o), this.delayTime.value = i;\n      const s = t.createGain();\n      s.gain.value = Math.min(Math.abs(c), 0.995), this.feedback = s.gain;\n      const a = t.createGain();\n      return a.gain.value = o, this.delayGain = a, this.connect(s), this.connect(a), s.connect(this), this.connect = (r) => a.connect(r), this;\n    }\n    start(t) {\n      this.delayGain.gain.setValueAtTime(this.delayGain.gain.value, t + this.delayTime.value);\n    }\n  }\n  AudioContext.prototype.createFeedbackDelay = function(n, t, o) {\n    return new e(this, n, t, o);\n  };\n}\ntypeof AudioContext < \"u\" && (AudioContext.prototype.impulseResponse = function(e, n = 1) {\n  const t = this.sampleRate * e, o = this.createBuffer(n, t, this.sampleRate), i = o.getChannelData(0);\n  for (let c = 0; c < t; c++)\n    i[c] = (2 * Math.random() - 1) * Math.pow(1 - c / t, e);\n  return o;\n}, AudioContext.prototype.createReverb = function(e) {\n  const n = this.createConvolver();\n  return n.setDuration = (t) => (n.buffer = this.impulseResponse(t), n.duration = e, n), n.setDuration(e), n;\n});\nvar $ = {\n  a: { freqs: [660, 1120, 2750, 3e3, 3350], gains: [1, 0.5012, 0.0708, 0.0631, 0.0126], qs: [80, 90, 120, 130, 140] },\n  e: { freqs: [440, 1800, 2700, 3e3, 3300], gains: [1, 0.1995, 0.1259, 0.1, 0.1], qs: [70, 80, 100, 120, 120] },\n  i: { freqs: [270, 1850, 2900, 3350, 3590], gains: [1, 0.0631, 0.0631, 0.0158, 0.0158], qs: [40, 90, 100, 120, 120] },\n  o: { freqs: [430, 820, 2700, 3e3, 3300], gains: [1, 0.3162, 0.0501, 0.0794, 0.01995], qs: [40, 80, 100, 120, 120] },\n  u: { freqs: [370, 630, 2750, 3e3, 3400], gains: [1, 0.1, 0.0708, 0.0316, 0.01995], qs: [40, 60, 100, 120, 120] }\n};\nif (typeof GainNode < \"u\") {\n  class e extends GainNode {\n    constructor(t, o) {\n      if (super(t), !$[o])\n        throw new Error(\"vowel: unknown vowel \" + o);\n      const { gains: i, qs: c, freqs: s } = $[o], a = t.createGain();\n      for (let r = 0; r < 5; r++) {\n        const g = t.createGain();\n        g.gain.value = i[r];\n        const u = t.createBiquadFilter();\n        u.type = \"bandpass\", u.Q.value = c[r], u.frequency.value = s[r], this.connect(u), u.connect(g), g.connect(a);\n      }\n      return a.gain.value = 8, this.connect = (r) => a.connect(r), this;\n    }\n  }\n  AudioContext.prototype.createVowelFilter = function(n) {\n    return new e(this, n);\n  };\n}\nconst le = \"data:application/javascript;base64,Ly8gTElDRU5TRSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2My4wIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZGt0cjAvV2ViRGlydC9ibG9iL21haW4vTElDRU5TRQovLyBhbGwgdGhlIGNyZWRpdCBnb2VzIHRvIGRrdHIwJ3Mgd2ViZGlydDogaHR0cHM6Ly9naXRodWIuY29tL2RrdHIwL1dlYkRpcnQvYmxvYi81Y2UzZDY5ODM2MmM1NGQ2ZTFiNjhhY2M0N2ViMjk1NWFjNjJjNzkzL2Rpc3QvQXVkaW9Xb3JrbGV0cy5qcwovLyA8MwoKY2xhc3MgQ29hcnNlUHJvY2Vzc29yIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29yIHsKICBzdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCkgewogICAgcmV0dXJuIFt7IG5hbWU6ICdjb2Fyc2UnLCBkZWZhdWx0VmFsdWU6IDEgfV07CiAgfQoKICBjb25zdHJ1Y3RvcigpIHsKICAgIHN1cGVyKCk7CiAgICB0aGlzLm5vdFN0YXJ0ZWQgPSB0cnVlOwogIH0KCiAgcHJvY2VzcyhpbnB1dHMsIG91dHB1dHMsIHBhcmFtZXRlcnMpIHsKICAgIGNvbnN0IGlucHV0ID0gaW5wdXRzWzBdOwogICAgY29uc3Qgb3V0cHV0ID0gb3V0cHV0c1swXTsKICAgIGNvbnN0IGNvYXJzZSA9IHBhcmFtZXRlcnMuY29hcnNlOwogICAgY29uc3QgYmxvY2tTaXplID0gMTI4OwogICAgY29uc3QgaGFzSW5wdXQgPSAhKGlucHV0WzBdID09PSB1bmRlZmluZWQpOwogICAgaWYgKGhhc0lucHV0KSB7CiAgICAgIHRoaXMubm90U3RhcnRlZCA9IGZhbHNlOwogICAgICBvdXRwdXRbMF1bMF0gPSBpbnB1dFswXVswXTsKICAgICAgZm9yIChsZXQgbiA9IDE7IG4gPCBibG9ja1NpemU7IG4rKykgewogICAgICAgIGZvciAobGV0IG8gPSAwOyBvIDwgb3V0cHV0Lmxlbmd0aDsgbysrKSB7CiAgICAgICAgICBvdXRwdXRbb11bbl0gPSBuICUgY29hcnNlID09IDAgPyBpbnB1dFswXVtuXSA6IG91dHB1dFtvXVtuIC0gMV07CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gdGhpcy5ub3RTdGFydGVkIHx8IGhhc0lucHV0OwogIH0KfQoKcmVnaXN0ZXJQcm9jZXNzb3IoJ2NvYXJzZS1wcm9jZXNzb3InLCBDb2Fyc2VQcm9jZXNzb3IpOwoKY2xhc3MgQ3J1c2hQcm9jZXNzb3IgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3IgewogIHN0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKSB7CiAgICByZXR1cm4gW3sgbmFtZTogJ2NydXNoJywgZGVmYXVsdFZhbHVlOiAwIH1dOwogIH0KCiAgY29uc3RydWN0b3IoKSB7CiAgICBzdXBlcigpOwogICAgdGhpcy5ub3RTdGFydGVkID0gdHJ1ZTsKICB9CgogIHByb2Nlc3MoaW5wdXRzLCBvdXRwdXRzLCBwYXJhbWV0ZXJzKSB7CiAgICBjb25zdCBpbnB1dCA9IGlucHV0c1swXTsKICAgIGNvbnN0IG91dHB1dCA9IG91dHB1dHNbMF07CiAgICBjb25zdCBjcnVzaCA9IHBhcmFtZXRlcnMuY3J1c2g7CiAgICBjb25zdCBibG9ja1NpemUgPSAxMjg7CiAgICBjb25zdCBoYXNJbnB1dCA9ICEoaW5wdXRbMF0gPT09IHVuZGVmaW5lZCk7CiAgICBpZiAoaGFzSW5wdXQpIHsKICAgICAgdGhpcy5ub3RTdGFydGVkID0gZmFsc2U7CiAgICAgIGlmIChjcnVzaC5sZW5ndGggPT09IDEpIHsKICAgICAgICBjb25zdCB4ID0gTWF0aC5wb3coMiwgY3J1c2hbMF0gLSAxKTsKICAgICAgICBmb3IgKGxldCBuID0gMDsgbiA8IGJsb2NrU2l6ZTsgbisrKSB7CiAgICAgICAgICBjb25zdCB2YWx1ZSA9IE1hdGgucm91bmQoaW5wdXRbMF1bbl0gKiB4KSAvIHg7CiAgICAgICAgICBmb3IgKGxldCBvID0gMDsgbyA8IG91dHB1dC5sZW5ndGg7IG8rKykgewogICAgICAgICAgICBvdXRwdXRbb11bbl0gPSB2YWx1ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZm9yIChsZXQgbiA9IDA7IG4gPCBibG9ja1NpemU7IG4rKykgewogICAgICAgICAgbGV0IHggPSBNYXRoLnBvdygyLCBjcnVzaFtuXSAtIDEpOwogICAgICAgICAgY29uc3QgdmFsdWUgPSBNYXRoLnJvdW5kKGlucHV0WzBdW25dICogeCkgLyB4OwogICAgICAgICAgZm9yIChsZXQgbyA9IDA7IG8gPCBvdXRwdXQubGVuZ3RoOyBvKyspIHsKICAgICAgICAgICAgb3V0cHV0W29dW25dID0gdmFsdWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gdGhpcy5ub3RTdGFydGVkIHx8IGhhc0lucHV0OwogIH0KfQpyZWdpc3RlclByb2Nlc3NvcignY3J1c2gtcHJvY2Vzc29yJywgQ3J1c2hQcm9jZXNzb3IpOwoKY2xhc3MgU2hhcGVQcm9jZXNzb3IgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3IgewogIHN0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKSB7CiAgICByZXR1cm4gW3sgbmFtZTogJ3NoYXBlJywgZGVmYXVsdFZhbHVlOiAwIH1dOwogIH0KCiAgY29uc3RydWN0b3IoKSB7CiAgICBzdXBlcigpOwogICAgdGhpcy5ub3RTdGFydGVkID0gdHJ1ZTsKICB9CgogIHByb2Nlc3MoaW5wdXRzLCBvdXRwdXRzLCBwYXJhbWV0ZXJzKSB7CiAgICBjb25zdCBpbnB1dCA9IGlucHV0c1swXTsKICAgIGNvbnN0IG91dHB1dCA9IG91dHB1dHNbMF07CiAgICBjb25zdCBzaGFwZTAgPSBwYXJhbWV0ZXJzLnNoYXBlWzBdOwogICAgY29uc3Qgc2hhcGUxID0gc2hhcGUwIDwgMSA/IHNoYXBlMCA6IDEuMCAtIDRlLTEwOwogICAgY29uc3Qgc2hhcGUgPSAoMi4wICogc2hhcGUxKSAvICgxLjAgLSBzaGFwZTEpOwogICAgY29uc3QgYmxvY2tTaXplID0gMTI4OwogICAgY29uc3QgaGFzSW5wdXQgPSAhKGlucHV0WzBdID09PSB1bmRlZmluZWQpOwogICAgaWYgKGhhc0lucHV0KSB7CiAgICAgIHRoaXMubm90U3RhcnRlZCA9IGZhbHNlOwogICAgICBmb3IgKGxldCBuID0gMDsgbiA8IGJsb2NrU2l6ZTsgbisrKSB7CiAgICAgICAgY29uc3QgdmFsdWUgPSAoKDEgKyBzaGFwZSkgKiBpbnB1dFswXVtuXSkgLyAoMSArIHNoYXBlICogTWF0aC5hYnMoaW5wdXRbMF1bbl0pKTsKICAgICAgICBmb3IgKGxldCBvID0gMDsgbyA8IG91dHB1dC5sZW5ndGg7IG8rKykgewogICAgICAgICAgb3V0cHV0W29dW25dID0gdmFsdWU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gdGhpcy5ub3RTdGFydGVkIHx8IGhhc0lucHV0OwogIH0KfQoKcmVnaXN0ZXJQcm9jZXNzb3IoJ3NoYXBlLXByb2Nlc3NvcicsIFNoYXBlUHJvY2Vzc29yKTsK\";\nfunction k(e) {\n  const n = I().createGain();\n  return n.gain.value = e, n;\n}\nconst Ie = ({ s: e, freq: n, t }) => {\n  const o = I().createOscillator();\n  return o.type = e || \"triangle\", o.frequency.value = Number(n), o.start(t), { node: o, stop: (c) => o.stop(c) };\n}, ce = (e, n, t, o, i, c) => {\n  const s = I().createGain();\n  return s.gain.setValueAtTime(0, c), s.gain.linearRampToValueAtTime(i, c + e), s.gain.linearRampToValueAtTime(t * i, c + e + n), {\n    node: s,\n    stop: (a) => {\n      s.gain.setValueAtTime(t * i, a), s.gain.linearRampToValueAtTime(0, a + o);\n    }\n  };\n}, He = (e, n, t, o, i, c, s) => {\n  const a = I().createGain();\n  return a.gain.setValueAtTime(0, c), a.gain.linearRampToValueAtTime(i, c + e), a.gain.linearRampToValueAtTime(t * i, c + e + n), a.gain.setValueAtTime(t * i, s), a.gain.linearRampToValueAtTime(0, s + o), a;\n}, J = (e, n, t) => {\n  const o = I().createBiquadFilter();\n  return o.type = e, o.frequency.value = n, o.Q.value = t, o;\n}, { Pattern: Ce, logger: ie } = M, P = ue();\nfunction ae(e, n, t = {}) {\n  P.setKey(e, { onTrigger: n, data: t });\n}\nfunction _(e) {\n  return P.get()[e];\n}\nconst Te = () => P.set({});\nlet O;\nconst I = () => (O || (O = new AudioContext()), O);\nlet W;\nconst Q = () => {\n  const e = I();\n  return W || (W = e.createGain(), W.connect(e.destination)), W;\n}, Ne = () => {\n  Q().gain.linearRampToValueAtTime(0, I().currentTime + 0.01), W = null;\n};\nlet D;\nfunction fe() {\n  return D || (D = I().audioWorklet.addModule(le), D);\n}\nfunction x(e, n, t) {\n  const o = new AudioWorkletNode(e, n);\n  return Object.entries(t).forEach(([i, c]) => {\n    o.parameters.get(i).value = c;\n  }), o;\n}\nasync function Ae() {\n  if (typeof window < \"u\")\n    try {\n      await I().resume(), await fe();\n    } catch (e) {\n      console.warn(\"could not load AudioWorklet effects coarse, crush and shape\", e);\n    }\n}\nasync function We() {\n  return new Promise((e) => {\n    document.addEventListener(\"click\", async function n() {\n      await Ae(), e(), document.removeEventListener(\"click\", n);\n    });\n  });\n}\nlet G = {};\nconst ee = 0.98;\nfunction he(e, n, t, o) {\n  if (t > ee && ie(`delayfeedback was clamped to ${ee} to save your ears`), t = M.clamp(t, 0, 0.98), !G[e]) {\n    const c = I().createFeedbackDelay(1, n, t);\n    c.start?.(o), c.connect(Q()), G[e] = c;\n  }\n  return G[e].delayTime.value !== n && G[e].delayTime.setValueAtTime(n, o), G[e].feedback.value !== t && G[e].feedback.setValueAtTime(t, o), G[e];\n}\nlet w = {};\nfunction pe(e, n = 2) {\n  if (!w[e]) {\n    const o = I().createReverb(n);\n    o.connect(Q()), w[e] = o;\n  }\n  return w[e].duration !== n && (w[e] = w[e].setDuration(n), w[e].duration = n), w[e];\n}\nfunction ne(e, n, t) {\n  const o = k(t);\n  return e.connect(o), o.connect(n), o;\n}\nconst se = async (e, n, t, o) => {\n  const i = I();\n  e.ensureObjectValue();\n  let c = i.currentTime + n, {\n    s = \"triangle\",\n    bank: a,\n    source: r,\n    gain: g = 0.8,\n    // low pass\n    cutoff: u,\n    resonance: p = 1,\n    // high pass\n    hcutoff: f,\n    hresonance: b = 1,\n    // band pass\n    bandf: A,\n    bandq: B = 1,\n    //\n    coarse: C,\n    crush: m,\n    shape: H,\n    pan: K,\n    vowel: S,\n    delay: T = 0,\n    delayfeedback: X = 0.5,\n    delaytime: l = 0.25,\n    orbit: z = 1,\n    room: F,\n    size: V = 2\n  } = e.value;\n  const { velocity: j = 1 } = e.context;\n  g *= j;\n  let R = [];\n  const U = () => {\n    R.forEach((h) => h?.disconnect());\n  };\n  a && s && (s = `${a}_${s}`);\n  let y;\n  if (r)\n    y = r(c, e.value, t);\n  else if (_(s)) {\n    const { onTrigger: h } = _(s), N = await h(c, e.value, U);\n    N && (y = N.node, N.stop(c + t));\n  } else\n    throw new Error(`sound ${s} not found! Is it loaded?`);\n  if (!y)\n    return;\n  if (i.currentTime > c) {\n    ie(\"[webaudio] skip hap: still loading\", i.currentTime - c);\n    return;\n  }\n  const d = [];\n  if (d.push(y), d.push(k(g)), u !== void 0 && d.push(J(\"lowpass\", u, p)), f !== void 0 && d.push(J(\"highpass\", f, b)), A !== void 0 && d.push(J(\"bandpass\", A, B)), S !== void 0 && d.push(i.createVowelFilter(S)), C !== void 0 && d.push(x(i, \"coarse-processor\", { coarse: C })), m !== void 0 && d.push(x(i, \"crush-processor\", { crush: m })), H !== void 0 && d.push(x(i, \"shape-processor\", { shape: H })), K !== void 0) {\n    const h = i.createStereoPanner();\n    h.pan.value = 2 * K - 1, d.push(h);\n  }\n  const Z = k(1);\n  d.push(Z), Z.connect(Q());\n  let v;\n  if (T > 0 && l > 0 && X > 0) {\n    const h = he(z, l, X, c);\n    v = ne(Z, h, T);\n  }\n  let q;\n  if (F > 0 && V > 0) {\n    const h = pe(z, V);\n    q = ne(Z, h, F);\n  }\n  d.slice(1).reduce((h, N) => h.connect(N), d[0]), R = d.concat([v, q]);\n}, Be = (e, n, t, o) => se(n, e - t, n.duration / o);\nCe.prototype.webaudio = function() {\n  return this.onTrigger(Be);\n};\nfunction Ye(e = {}) {\n  e = {\n    getTime: () => I().currentTime,\n    defaultOutput: se,\n    ...e\n  };\n  const { defaultOutput: n, getTime: t } = e;\n  return new M.Cyclist({\n    ...e,\n    onTrigger: M.getTrigger({ defaultOutput: n, getTime: t })\n  });\n}\nconst E = {}, L = {}, Ke = (e) => E[e];\nfunction be(e, n) {\n  var t = n ? 1e3 : 1024;\n  if (e < t)\n    return e + \" B\";\n  var o = n ? [\"kB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"] : [\"KiB\", \"MiB\", \"GiB\", \"TiB\", \"PiB\", \"EiB\", \"ZiB\", \"YiB\"], i = -1;\n  do\n    e /= t, ++i;\n  while (e >= t);\n  return e.toFixed(1) + \" \" + o[i];\n}\nconst me = async (e, n, t, o, i, c, s) => {\n  let a = 0;\n  i !== void 0 && t !== void 0 && Y(\"[sampler] hap has note and freq. ignoring note\", \"warning\");\n  let r = ge({ freq: i, note: t }, 36);\n  a = r - 36;\n  const g = I();\n  let u;\n  if (Array.isArray(c))\n    u = c[n % c.length];\n  else {\n    const A = (C) => oe(C) - r, B = Object.keys(c).filter((C) => !C.startsWith(\"_\")).reduce(\n      (C, m, H) => !C || Math.abs(A(m)) < Math.abs(A(C)) ? m : C,\n      null\n    );\n    a = -A(B), u = c[B][n % c[B].length];\n  }\n  s && (u = await s(u));\n  let p = await ye(u, g, e, n);\n  o < 0 && (p = Ge(p));\n  const f = g.createBufferSource();\n  f.buffer = p;\n  const b = 1 * Math.pow(2, a / 12);\n  return f.playbackRate.value = b, f;\n}, ye = (e, n, t, o = 0) => {\n  const i = t ? `sound \"${t}:${o}\"` : \"sample\";\n  if (!L[e]) {\n    Y(`[sampler] load ${i}..`, \"load-sample\", { url: e });\n    const c = Date.now();\n    L[e] = fetch(e).then((s) => s.arrayBuffer()).then(async (s) => {\n      const a = Date.now() - c, r = be(s.byteLength);\n      Y(`[sampler] load ${i}... done! loaded ${r} in ${a}ms`, \"loaded-sample\", { url: e });\n      const g = await n.decodeAudioData(s);\n      return E[e] = g, g;\n    });\n  }\n  return L[e];\n};\nfunction Ge(e) {\n  const n = I(), t = n.createBuffer(e.numberOfChannels, e.length, n.sampleRate);\n  for (let o = 0; o < e.numberOfChannels; o++)\n    t.copyToChannel(e.getChannelData(o).slice().reverse(), o, o);\n  return t;\n}\nconst Se = (e) => E[e], we = (e, n, t = e._base || \"\") => Object.entries(e).forEach(([o, i]) => {\n  if (typeof i == \"string\" && (i = [i]), typeof i != \"object\")\n    throw new Error(\"wrong sample map format for \" + o);\n  t = i._base || t;\n  const c = (s) => (t + s).replace(\"github:\", \"https://raw.githubusercontent.com/\");\n  Array.isArray(i) ? i = i.map(c) : i = Object.fromEntries(\n    Object.entries(i).map(([s, a]) => [s, (typeof a == \"string\" ? [a] : a).map(c)])\n  ), n(o, i);\n});\nlet re = {};\nfunction ze(e, n) {\n  re[e] = n;\n}\nfunction Xe(e) {\n  const n = Object.entries(re).find(([t]) => e.startsWith(t));\n  if (n)\n    return n[1];\n}\nconst Ve = async (e, n = e._base || \"\", t = {}) => {\n  if (typeof e == \"string\") {\n    const c = Xe(e);\n    if (c)\n      return c(e);\n    if (e.startsWith(\"github:\")) {\n      let [a, r] = e.split(\"github:\");\n      r = r.endsWith(\"/\") ? r.slice(0, -1) : r, e = `https://raw.githubusercontent.com/${r}/strudel.json`;\n    }\n    if (typeof fetch != \"function\")\n      return;\n    const s = e.split(\"/\").slice(0, -1).join(\"/\");\n    return typeof fetch > \"u\" ? void 0 : fetch(e).then((a) => a.json()).then((a) => Ve(a, n || a._base || s, t)).catch((a) => {\n      throw console.error(a), new Error(`error loading \"${e}\"`);\n    });\n  }\n  const { prebake: o, tag: i } = t;\n  we(\n    e,\n    (c, s) => ae(c, (a, r, g) => Re(a, r, g, s), {\n      type: \"sample\",\n      samples: s,\n      baseUrl: n,\n      prebake: o,\n      tag: i\n    }),\n    n\n  );\n}, te = [];\nasync function Re(e, n, t, o, i) {\n  const {\n    s: c,\n    freq: s,\n    unit: a,\n    nudge: r = 0,\n    // TODO: is this in seconds?\n    cut: g,\n    loop: u,\n    clip: p = void 0,\n    // if 1, samples will be cut off when the hap ends\n    n: f = 0,\n    note: b,\n    speed: A = 1,\n    // sample playback speed\n    begin: B = 0,\n    end: C = 1\n  } = n;\n  if (A === 0)\n    return;\n  const m = I(), { attack: H = 1e-3, decay: K = 1e-3, sustain: S = 1, release: T = 1e-3 } = n, X = e + r, l = await me(c, f, b, A, s, o, i);\n  if (m.currentTime > e) {\n    Y(`[sampler] still loading sound \"${c}:${f}\"`, \"highlight\");\n    return;\n  }\n  if (!l) {\n    Y(`[sampler] could not load \"${c}:${f}\"`, \"error\");\n    return;\n  }\n  l.playbackRate.value = Math.abs(A) * l.playbackRate.value, a === \"c\" && (l.playbackRate.value = l.playbackRate.value * l.buffer.duration * 1);\n  const z = B * l.buffer.duration;\n  l.start(X, z);\n  const F = l.buffer.duration / l.playbackRate.value, { node: V, stop: j } = ce(H, K, S, T, 1, e);\n  l.connect(V);\n  const R = m.createGain();\n  V.connect(R), l.onended = function() {\n    l.disconnect(), V.disconnect(), R.disconnect(), t();\n  };\n  const y = { node: R, bufferSource: l, stop: (d, Z = p === void 0) => {\n    let v = d;\n    Z && (v = e + (C - B) * F), l.stop(v + T), j(v);\n  } };\n  if (g !== void 0) {\n    const d = te[g];\n    d && (d.node.gain.setValueAtTime(1, X), d.node.gain.linearRampToValueAtTime(0, X + 0.01)), te[g] = y;\n  }\n  return y;\n}\nfunction Fe() {\n  [\"sine\", \"square\", \"triangle\", \"sawtooth\"].forEach((e) => {\n    ae(\n      e,\n      (n, t, o) => {\n        const { attack: i = 1e-3, decay: c = 0.05, sustain: s = 0.6, release: a = 0.01 } = t;\n        let { n: r, note: g, freq: u } = t;\n        r = g || r || 36, typeof r == \"string\" && (r = oe(r)), !u && typeof r == \"number\" && (u = de(r));\n        const { node: p, stop: f } = Ie({ t: n, s: e, freq: u }), b = k(0.3), { node: A, stop: B } = ce(i, c, s, a, 1, n);\n        return p.onended = () => {\n          p.disconnect(), b.disconnect(), o();\n        }, {\n          node: p.connect(b).connect(A),\n          stop: (C) => {\n            B(C), f(C + a);\n          }\n        };\n      },\n      { type: \"synth\", prebake: !0 }\n    );\n  });\n}\nexport {\n  k as gainNode,\n  He as getADSR,\n  I as getAudioContext,\n  Ke as getCachedBuffer,\n  ce as getEnvelope,\n  J as getFilter,\n  Se as getLoadedBuffer,\n  Ie as getOscillator,\n  me as getSampleBufferSource,\n  _ as getSound,\n  Ae as initAudio,\n  We as initAudioOnFirstClick,\n  ye as loadBuffer,\n  Re as onTriggerSample,\n  Ne as panic,\n  we as processSampleMap,\n  ze as registerSamplesPrefix,\n  ae as registerSound,\n  Fe as registerSynthSounds,\n  Te as resetLoadedSounds,\n  Ge as reverseBuffer,\n  Ve as samples,\n  P as soundMap,\n  se as webaudioOutput,\n  Be as webaudioOutputTrigger,\n  Ye as webaudioScheduler\n};\n"],
  "mappings": "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",
  "names": []
}
